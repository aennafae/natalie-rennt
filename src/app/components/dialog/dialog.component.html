<div mat-dialog-content>
  <form [formGroup]="run">
    <mat-form-field class="w-100">
      <input
        id="name"
        matInput
        placeholder="Dein Name"
        formControlName="name"
        maxlength="50"
      />
      <mat-error *ngIf="run.controls.name.invalid && run.controls.name.touched"
        >Gib deinen Namen an</mat-error
      >
    </mat-form-field>
    <mat-form-field class="w-100">
      <input
        id="kilometer"
        matInput
        placeholder="Kilometer"
        type="number"
        max="42"
        formControlName="km"
      />
      <mat-error *ngIf="run.controls.km.invalid && run.controls.km.touched"
        >Gib deine KM-Anzahl an</mat-error
      >
    </mat-form-field>
    <div class="w-100 my-3">
      <input
        type="file"
        #pictureInput
        id="uploadFile"
        (change)="uploadImage($event)"
        name="uploadFile"
        multiple="false"
        accept="image/*"
        hidden
      />

      <button mat-raised-button (click)="pictureInput.click()" class="mr-3">
        Bild hochladen
      </button>
      {{ pictureName }}

      <mat-error
        class="mat-small"
        *ngIf="!pictureBasepath && run.controls.km.touched"
        >Lade ein Bild hoch</mat-error
      >
    </div>
  </form>

  <img
    id="picture"
    *ngIf="pictureBasepath"
    [src]="pictureBasepath"
    width="450px"
    height="700px"
  />
</div>

<div mat-dialog-actions class="d-flex justify-content-between mt-3">
  <button id="cancel-button" mat-raised-button (click)="onNoClick()">Abbrechen</button>
  <button id="save-button" mat-raised-button color="primary" (click)="saveRun()" cdkFocusInitial>
    Ok
  </button>
</div>
