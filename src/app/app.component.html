<div class="container-flex">
  <div class="row">
    <div class="col">
      <h1>Natalie Rennt bis nach Berlin!</h1>
      <h2>
        UnterstÃ¼tze Sie & laufe mit! Lade ein Bild von deinem Lauf und deiner
        KM-Zahl hoch.
      </h2>

      <div class="d-flex justify-content-between align-items-center">
        <div class="km-current">{{ kilometer }} km</div>
        <div class="km-left">{{ kilometerMax }} km</div>
      </div>

      <mat-progress-bar
        mode="determinate"
        [value]="progressbarValue"
        class="run-progressbar"
      ></mat-progress-bar>
      <div class="d-flex justify-content-end mt-3">
        <div>100 Tage verbleiben</div>
      </div>
    </div>
  </div>
  <div class="row my-4">
    <div class="col text-center">
      <button id="add-card-button"
        mat-fab
        class="dialog-button"
        (click)="openDialog()"
        title="Lade deinen Lauf hoch">+
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-3" *ngIf="runs">
      <ng-container *ngTemplateOutlet="runItem;context:{runsx: runsLeft}"></ng-container> 
    </div>

    <div class="col-6 text-center">
      <img src="./assets/deutschlandkarte.png"  class="map-image"/>
    </div>

    <div class="col-3" *ngIf="runs">
      <ng-container *ngTemplateOutlet="runItem;context:{runsx: runsRight}"></ng-container> 
    </div>

    <div class="col-12" *ngIf="runs">
      <div class="d-flex flex-wrap">
        <ng-container *ngTemplateOutlet="runItem;context:{runsx: runsBottom}"></ng-container> 
      </div>
    </div>

    <div class="col-12 text-center">
      <button id="load-more-runs-button"
      mat-raised-button	
      color="accent"
      (click)="loadMoreRuns()"
      title="Lade mehr">Mehr laden
    </button>
      </div>
  </div>
</div>

<ng-template #runItem let-runsx="runsx">
  <div class="run-item my-2 mx-2 p-2" *ngFor="let run of runsx">
    {{run.key}}
    <div class="run-item__name">
      {{ run.vorname }}
      {{ run.name }}
    </div>

    <div class="run-item__datum">{{ run.datum}}</div>
    <div class="run-item__km">{{ run.km }} km</div>
    <div class="run-item__km">{{ run.ort }}</div>
  </div>
</ng-template>
